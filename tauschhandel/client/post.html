
<template name='post'>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<div style='float: left'>{{title}}  - erstellt {{userName}}</div>
			<div style='text-align: right'><button class='btn btn-primary btn-sm'>edit</button></div>
		</div>
		<div class="panel-body">
			<img src="{{bild}}}" width='200'>
			<p>{{text}}</p>

			{{#if isMyPost}}
				{{#if vergebenAn}}
					Vergeben an {{vergebenAn}}
				{{else}}
					Vergebe an: <br>
					{{> interessenten}}
				{{/if}}
			{{else}}
				{{#if hasInterest}}
					<button id='interesseMelden' class='btn btn-warning disabled'>Interesse Melden</button>
				{{else}}
					<button id='interesseMelden' class='btn btn-warning '>Interesse gemeldet</button>
				{{/if}}
			{{/if}}

			<br><br>

			{{> discussion}}
			
			<br>
			<p>tags: {{#each tags}} {{this}} {{/each}}</p>
		</div>
	</div>

</template>

<template name="interessenten">
	{{#each interessenten}}
		{{> interessent}}
	{{/each}}
</template>

<template name="interessent">
	<button class='btn btn-default'>{{this}}</button> <br>
</template>

<template name="discussion">
	<h3>Q&A</h3>
	{{#if previewMode}}
	{{else}}
		{{#each discussions}}
			{{> discussionPair}}
		{{/each}}
	{{/if}}

	{{#if isMyPost}}
	{{else}}
		{{> createPostQuestion}}
	{{/if}}
</template>


<template name="discussionPair">
	<div class="panel panel-success">
		<div class="panel-heading"><label>Frage:</label><br> {{question}}
			<div class="panel-body">
				{{#if answer}}
					<label>Antwort: </label><br> {{answer}}
				{{else}}
					{{#if isMyPost}}
						<form role='form'>
							<label>Antwort: </label><br> <input id='antwort' class='form-control' type="text" placeholder="Antwort">
						</form>
					{{else}}
						<p>Noch keine Antwort</p>
					{{/if}}
				{{/if}}
			</div>
		</div>

	</div>
</template>

<template name='createPostQuestion'>
	<form role='form'>
		<div class="input-group">
			<input id='text' type="text" class="form-control" placeholder="Stelle eine Frage...">
			<span class="input-group-btn">
				<button id='submitButton' class="btn btn-success" type="button">Frage stellen!</button>
			</span>
		</div>
	</form>

</template>